
model Comment {
  id         String         @id @default(uuid())
  content    String         @db.Text
  author_id  String //better auth
  post_id    String
  post       Post           @relation(fields: [post_id], references: [id], onDelete: Cascade)
  parent_id  String?
  parent     Comment?       @relation("CommentReplies", fields: [parent_id], references: [id], onDelete: Cascade)
  replies    Comment[]      @relation("CommentReplies")
  status     Comment_status @default(APPROVED)
  created_at DateTime       @default(now())
  updated_at DateTime       @updatedAt

  @@index([author_id])
  @@index([post_id])
  @@map("comments")
}

enum Comment_status {
  APPROVED
  REJECTED
}